# SPDX-License-Identifier: Apache-2.0

# Dyson Cool BLE Controller
# IR transceiver + BLE peripheral for nRF54L15-DK

# ===========================================
# Bluetooth Configuration
# ===========================================

# Core BLE
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="Dyson Cool"

# Connection settings - allow multiple connections for robustness
CONFIG_BT_MAX_CONN=2
CONFIG_BT_MAX_PAIRED=2

# GATT configuration
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_ATT_TX_COUNT=4

# Advertising
CONFIG_BT_DEVICE_APPEARANCE=0

# Logging for BLE (use generic logging subsystem)
# CONFIG_BT_DEBUG_LOG is deprecated, use LOG_DEFAULT_LEVEL instead

# ===========================================
# System Configuration
# ===========================================

# Disable Zephyr GPIO driver - we use nrfx_gpiote directly for IR
CONFIG_GPIO=n

# Enable shell for interactive commands
CONFIG_SHELL=y

# Enable console for debug output
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_SERIAL=y

# Enable printk for debug messages
CONFIG_PRINTK=y

# Logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3

# ===========================================
# nrfx Drivers for IR TX Hardware
# ===========================================
CONFIG_NRFX_GPIOTE20=y
CONFIG_NRFX_TIMER=y
CONFIG_NRFX_GPPI=y

# ===========================================
# Stack sizes
# ===========================================
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
